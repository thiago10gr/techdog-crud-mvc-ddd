<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TECHDOG</title>


    <link href="~/assets/stylesheets/vendors.min.css" rel="stylesheet" />
    <link href="~/assets/stylesheets/algaworks.min.css" rel="stylesheet" />
    <link href="~/assets/stylesheets/application.css" rel="stylesheet" />


    <link href="~/pessoal/styles/styles.css" rel="stylesheet" />

    <link href="~/Content/bootstrap-datepicker.min.css" rel="stylesheet" />

    <script src="~/scripts/jquery-1.9.1.min.js"></script>


    <script src="~/assets/javascripts/vendors.min.js"></script>
    <script src="~/assets/javascripts/algaworks.min.js"></script>


    <script src="~/pessoal/scripts/jquery.mask.js"></script>
    <script src="~/pessoal/scripts/scripts.js"></script>


    <script src="~/scripts/bootstrap-datepicker.min.js"></script>
    <script src="~/scripts/locales/bootstrap-datepicker.pt-BR.min.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <style type="text/css">
        .my-erro-alerta ul li {
            list-style-type: none;
            font-family: verdana;
        }
    </style>




</head>
<body>



    <div class="aw-layout-loading  js-loading-overlay">
        <div class="aw-layout-loading__container">
            <span class="aw-balls-spinner">Carregando...</span>
        </div>
    </div>
    <div class="aw-layout-page">
        <nav class="navbar  navbar-fixed-top  navbar-default  js-sticky-reference" id="main-navbar">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand  hidden-xs" href="#">
                        <img alt="TECHDOG" src="~/assets/images/logo.png" />
                    </a>
                    <ul class="nav  navbar-nav">
                        <li>
                            <a href="#" class="js-sidebar-toggle"><i class="fa  fa-bars"></i></a>
                        </li>
                    </ul>
                </div>
                <ul class="nav navbar-nav  navbar-right">
                    <!--
                    <li>
                        <a href="#" class="js-search-modal-trigger-show"><i class="fa  fa-search"></i></a>
                    </li>

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
                            <i class="fa  fa-envelope"></i> <span class="label  label-danger  aw-label-corner">48</span>
                        </a>

                        <ul class="dropdown-menu">
                            <li><a href="javascript:;">Item 1</a></li>
                            <li><a href="javascript:;">Item 2</a></li>
                        </ul>

                    </li>
                    -->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            <i class="fa  fa-user"></i>
                        </a>

                        @using Projeto.Entidades
                        @{
                            Usuario u = null;
                            u = (Usuario)Session["usuario"];
                        }

                        <ul class="dropdown-menu">
                            <li>
                                <div class="aw-logged-user">


                                        <div align="center">
                                            <img id="avatar" src="@Url.Content("~/pessoal/imagens/semimagem.jpg")"
                                                 width="80" height="80" class="aw-logged-user__picture" />
                                        </div>

                                   
                                    <!--<span class="aw-logged-user__name">@HttpContext.Current.User.Identity.Name</span>-->

                                    <span class="aw-logged-user__name"><div id="nomeperfil">@u.Nome</div></span>


                                </div>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li><a href="/AreaRestrita/Usuario/Perfil">Meu perfil</a></li>
                            <!-- <li><a href="#">Alterar senha</a></li> -->
                        </ul>
                    </li>

                    <li>
                        <a href="/Home/Logout"><em class="fa  fa-sign-out"></em></a>
                    </li>
                </ul>
            </div>
        </nav>
        <aside class="aw-layout-sidebar  js-sidebar">
            <div class="aw-layout-sidebar__content">
                <nav class="aw-menu  js-menu">
                    <ul class="aw-menu__list">


                        <li class="aw-menu__item">
                            <a href="/AreaRestrita/Usuario/Index"><i class="fa  fa-fw  fa-home"></i><span>Dashboard</span></a>
                        </li>






                        <li class="aw-menu__item">
                            <a href="#">
                                <i class="fa  fa-fw  fa-users"></i><span>Usuários</span>
                                <i class="aw-menu__navigation-icon  fa"></i>
                            </a>

                            <ul class="aw-menu__list  aw-menu__list--sublist">
                                <li class="aw-menu__item  aw-menu__item--link"><a href="/AreaRestrita/Usuario/Cadastro">Cadastrar</a></li>
                            </ul>
                            <ul class="aw-menu__list  aw-menu__list--sublist">
                                <li class="aw-menu__item  aw-menu__item--link"><a href="/AreaRestrita/Usuario/Consulta">Listar</a></li>
                            </ul>
                        </li>


                        



                        <!--
                        <li class="aw-menu__item  is-expanded">
                            <a href="#">
                                <i class="fa  fa-fw  fa-file-text"></i><span>Páginas comuns</span>
                                <i class="aw-menu__navigation-icon  fa"></i>
                            </a>
                            <ul class="aw-menu__list  aw-menu__list--sublist">
                                <li class="aw-menu__item  aw-menu__item--link"><a href="pagina-vazia.html">Página vazia</a></li>
                                <li class="aw-menu__item  aw-menu__item--link"><a href="login.html">Login</a></li>
                                <li class="aw-menu__item  aw-menu__item--link"><a href="esqueceu-a-senha.html">Esqueceu a senha</a></li>
                                <li class="aw-menu__item  aw-menu__item--link"><a href="403.html">403</a></li>
                                <li class="aw-menu__item  aw-menu__item--link"><a href="404.html">404</a></li>
                                <li class="aw-menu__item  aw-menu__item--link"><a href="500.html">500</a></li>
                            </ul>
                        </li>
                        -->
                    </ul>
                </nav>
            </div>
        </aside>
        <section class="aw-layout-content  js-content">

            <div class="page-header">
                <div class="container-fluid">
                    <h1>
                        @ViewBag.Titulo
                    </h1>
                </div>
            </div>


            <div class="container-fluid">


                <!-- Checando se o formulário foi validado -->
                @if (!Html.ViewData.ModelState.IsValid)
                {

                    <div class="alert  alert-danger  alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <div align="center">@Html.ValidationSummary("", new { @class = "my-erro-alerta" })</div>
                    </div>

                }

                @if (ViewBag.MsgSucesso != null & ViewBag.MsgSucesso is string)
                {

                    <div class="alert  alert-success  alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <div align="center">@ViewBag.MsgSucesso</div>
                    </div>

                }




                @if (@TempData["MsgSucesso"] != null & @TempData["MsgSucesso"] is string)
                {
                    <div class="alert  alert-success  alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <div align="center">@TempData["MsgSucesso"]</div>
                    </div>
                }



                @if (ViewBag.MsgErro != null & ViewBag.MsgErro is string)
                {

                    <div class="alert  alert-danger  alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <div align="center">@ViewBag.MsgErro</div>
                    </div>

                }

               


                @if (@TempData["MsgErro"] != null & @TempData["MsgErro"] is string)
                {
                    <div class="alert  alert-danger  alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <div align="center">@TempData["MsgErro"]</div>
                    </div>
                }
               


                <div id="containerMsgSucesso" class="alert  alert-success  alert-dismissible" role="alert" style="display:none;">
                    <button type="button" class="close" onclick="esconderMsg()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <div id="msgSucesso" align="center"></div>
                </div>


                <div id="containerMsgErro" class="alert  alert-danger  alert-dismissible" role="alert" style="display:none;">
                    <button type="button" class="close" onclick="esconderMsg()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <div id="msgErro" align="center"></div>
                </div>


                <!-- Entrada de conteudo -->
                @RenderBody()



            </div>



            <script>
                function excluir() {
	                swal({
		                title: "Tem certeza?",
		                text: "Você não poderá recuperar o produto após a exclusão.",
		                type: "warning",
		                showCancelButton: true,
		                confirmButtonColor: "#DD6B55",
		                confirmButtonText: "Sim, exclua agora!",
		                closeOnConfirm: false,
		                showLoaderOnConfirm: true
	                }, function() {
		                setTimeout(function() {
			                swal("Excluído!", "O produto foi excluído com sucesso.", "success");
		                }, 2000);
	                });
                }
            </script>


        </section>

        <footer class="aw-layout-footer  js-content">
            <div class="container-fluid">
                <span class="aw-footer-disclaimer">&copy; Todos os direitos reservados.</span>
            </div>
        </footer>
    </div>
    <!--
    <div class="aw-search-modal  js-search-modal">
        <form action="#" class="aw-search-modal__form">
            <input class="aw-search-modal__input  js-search-modal-input" type="text" placeholder="O que você está procurando?" />
            <div class="aw-search-modal__input-icon">
                <i class="glyphicon  glyphicon-search  js-search-modal-go"></i>
            </div>
        </form>

        <div class="aw-search-modal__controls">
            <i class="glyphicon glyphicon-remove  js-search-modal-close"></i>
        </div>
    </div>
    -->


    <script type="text/javascript">


        function topo() {
            //rolar página para o topo
            $('html,body').scrollTop(0);
        }

        function obterDataAtual() {

            var data = new Date();

            var dia = String(data.getDate());
            var mes = String((data.getMonth() + 1));
            var ano = data.getFullYear().toString();

            var diaFinal = (dia.length == 1) ? "0" + dia : dia;
            var mesFinal = (mes.length == 1) ? "0" + mes : mes;

            return diaFinal + "/" + mesFinal + "/" + ano;

            return datafinal;
        }

        function formatarData(data) {

            var value = new Date(parseInt(data.replace(/(^.*\()|([+-].*$)/g, '')));

            var dia = String(value.getDate());
            var mes = String((value.getMonth() + 1));
            var ano = String(value.getFullYear());

            var diaFinal = (dia.length == 1) ? "0" + dia : dia;
            var mesFinal = (mes.length ==1) ? "0" + mes : mes;

            return diaFinal + "/" + mesFinal + "/" + ano;
        }


        function esconderMsg() {
            $("#containerMsgErro").css("display", "none");
            $("#containerMsgSucesso").css("display", "none");
        };

        function exibirMsgSucesso(msg) {
            $("#containerMsgErro").css("display", "none");

            if (msg != null) {
                $("#msgSucesso").html(msg);
                $("#containerMsgSucesso").css("display", "block");
            }

        };



        function exibirMsgErros(erros) {

            $("#containerMsgSucesso").css("display", "none");

            var conteudo = "";

            //verificando se foi recebido uma lista de erros
            if ($.type(erros) === "object") {
                $.each(erros, function (index, value) {
                    console.log(value);
                    conteudo += value + "</br>";
                });
            }

            //verificando se foi recebido apenas um erro
            if ($.type(erros) === "string") {
                conteudo = erros;
            }

            if (conteudo != null) {
                $("#containerMsgErro").css("display", "block");
                $("#msgErro").html(conteudo);
            }

        };


        //função para pré-visualizar imagens do upload
        function readURL(input) {

            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#image-upload').attr('src', e.target.result);
                    $('#imageupload').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }


        $(document).ready(function () {
            $("#fileupload").change(function () {
                readURL(this);
            });
            $("#file-upload").change(function () {
                readURL(this);
            });

            $('.calendar-inline').datepicker({
               // format: "dd/mm/yyyy",
                language: "pt-BR",
                multidate: true
            });

            $('.datepick').datepicker({
                language: "pt-BR",
            });


            var datastable;
            var datashidden;

            $('.calendar-inline').on('changeDate', function () {

                datastable= '';
                datashidden = '';

                var dia;
                var mes;
                var ano;
                var data;

                var datas = $('.calendar-inline').datepicker('getDates');

                $.each(datas, function (index, value) {

                    data = new Date(value);

                    dia = data.getDate().toString();
                    mes = (data.getMonth() + 1).toString();
                    ano = data.getFullYear().toString();

                    dia = (dia.length < 2) ? "0" + dia : dia;
                    mes = (mes.length < 2) ? "0" + mes : mes;

                    //para exibir na tabela
                    datastable += "<tr><td><div align='center'>"
                        + dia + '/' + mes + '/' + ano + "</div></td></tr>";

                    //para enviar ao controle
                    datashidden += dia + '/' + mes + '/' + ano + ",";
                });

                $('#feriados tbody').html(
                   datastable
                );

                $('#input-hidden-datas').val(
                   datashidden
                );
            });





        });


    </script>

</body>
</html>